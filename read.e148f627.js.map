{"mappings":"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","sources":["src/js/markupUtils.js","src/js/localStorageService.js","src/js/fav/constants.js","src/js/cardMarkup.js","src/js/readLinksStyling.js","src/js/withoutNews.js","src/js/onReadLink.js"],"sourcesContent":["export function cutText(string) {\n  const quantityChar = 115;\n  return string.length <= quantityChar\n    ? string\n    : string.slice(0, quantityChar) + '...';\n}\n\nexport function cutTitle(string) {\n  const quantityChar = 72;\n  return string.length < quantityChar\n    ? string\n    : string.slice(0, quantityChar) + '...';\n}\n\nexport function updateMarkup(markup, elem) {\n  elem.innerHTML = markup;\n}\n\nexport function formatDate(strg) {\n  if (!strg) return null;\n\n  strg = cutDate(strg);\n  // console.log(strg);\n\n  const pubDate = new Date(strg);\n  const yyyy = pubDate.getFullYear();\n  let mm = pubDate.getMonth() + 1;\n  let dd = pubDate.getDate();\n\n  if (dd < 10) dd = '0' + dd;\n  if (mm < 10) mm = '0' + mm;\n  const str = `${dd + '/' + mm + '/' + yyyy}`;\n  return str;\n}\n\nfunction cutDate(date) {\n  const regexp = /(\\d+-\\d+-\\d+)/g;\n  const hits = date.match(regexp);\n  if (hits !== null) return hits[0];\n  return date;\n}\n","// Стандартні методи для роботи з Local Storage\n\nconst save = (key, value) => {\n\ttry {\n\t  const serializedState = JSON.stringify(value); //получаем и преобразуем в JSON значение\n\t  localStorage.setItem(key, serializedState); //сохраняем значение в локальное хранилище\n\t} catch (error) {\n\t  console.error('Set state error: ', error.message);\n\t}\n };\n \n const load = key => {\n\ttry {\n\t  const serializedState = localStorage.getItem(key); //получаем значение из хранилища\n\t  return serializedState === null ? undefined : JSON.parse(serializedState); //если в хранилище нет\n\t  //записи с таким ключом, метод возвращает null. Когда значение это обычнаяс строка -\n\t  //нет необходимости её парсить\n\t} catch (error) {\n\t  console.error('Get state error: ', error.message);\n\t}\n };\n \n const remove = key => {\n\ttry {\n\t  const serializedState = localStorage.removeItem(key);\n\t} catch (error) {\n\t  console.error('Remove state error: ', error.message);\n\t}\n };\n \n export { save, load, remove };","export { FAV_PAGES_KEY, OFFSETS_FAVORITES, MAX_WIDTH, NEWS_CARD_CSS_CLASSES, WEATHER_CARD_CSS_CLASS, READ_PAGE_NEWS_CARDS_CONTAINER, FAV_BUTTON_ICON_FILL_COLOR, FAV_BUTTON_ICON_FILLED_HTML, FAV_BUTTON_ICON_EMPTY_HTML };\n\n\nconst FAV_PAGES_KEY = 'favPagesData';\nconst WEATHER_CARD_CSS_CLASS = 'weather__card';\nconst READ_PAGE_NEWS_CARDS_CONTAINER = 'read';\nconst FAV_BUTTON_ICON_FILL_COLOR = '#4440F6';\n\n\nconst OFFSETS_FAVORITES = {\n    mobile: 5,\n    tablet: 8,\n    desktop: 9,\n};\nObject.freeze(OFFSETS_FAVORITES);\n\n\nconst MAX_WIDTH = {\n    mobile: 320,\n    tablet: 768,\n};\nObject.freeze(MAX_WIDTH);\n\n\nconst NEWS_CARD_CSS_CLASSES = {\n    container: 'news-container',\n    card: 'news-item',\n    favButton: 'add-news-favorite',\n    favButtonText: 'favorite-btn-text',\n    favButtonIcon: 'favorite-icon',\n    \n    inFavorites: 'in-favorites',\n\n    title: 'news-title',\n    abstract: 'news-desk',\n    section: 'news-chip',\n    media: 'news-img',\n    published_date: 'news-date',\n    url: 'news-link',\n};\nObject.freeze(NEWS_CARD_CSS_CLASSES);\n\n\nconst FAV_BUTTON_ICON_FILLED_HTML = '<path class=\"icon-heart\" d=\"M8.381 2.286C4.174 2.286.762 5.663.762 9.829c0 3.363 1.333 11.345 14.458 19.413a1.501 1.501 0 0 0 1.56 0c13.125-8.069 14.458-16.05 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543S16 6.857 16 6.857s-3.412-4.571-7.619-4.571z\"/>';\nconst FAV_BUTTON_ICON_EMPTY_HTML = '<path class=\"icon-empty-heart\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.333 4c-3.681 0-6.667 2.955-6.667 6.6 0 2.943 1.167 9.927 12.651 16.987a1.316 1.316 0 0 0 1.366 0c11.484-7.06 12.651-14.044 12.651-16.987 0-3.645-2.985-6.6-6.667-6.6S16 8 16 8s-2.985-4-6.667-4z\" />';","import { FAV_BUTTON_ICON_EMPTY_HTML } from './fav/constants';\nimport { cutText, cutTitle, formatDate } from './markupUtils';\n\nexport function createCard({\n  section_name,\n  web_url,\n  headline,\n  lead_paragraph,\n  pub_date,\n  multimedia,\n  snippet,\n}) {\n  return `\n        <li class=\"news-item\">\n        <div class=\"overlay\"></div>\n        <div class=\"img-thumb\">\n        <span class=\"readable\"\n        >Already read\n        <svg class=\"icon-done\" width=\"18\" height=\"18\" viewBox=\"0 0 32 32\"><path d=\"M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z\"></path></svg>\n          </span>\n          <img src=\"${\n            !multimedia[0]\n              ? 'https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg'\n              : 'https://www.nytimes.com/' + multimedia[0].url\n          }\" loading=\"lazy\" alt=\"${!multimedia ? 'NYTimes' : snippet}\" class=\"news-img\" />\n          <p class=\"news-chip\">${section_name}</p>\n          <button type=\"button\" class=\"add-news-favorite\">\n            <p class=\"favorite-btn-text\">Add to favorite</p>\n            <svg class=\"favorite-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n             ${FAV_BUTTON_ICON_EMPTY_HTML} \n            </svg> \n          </button>\n        </div>\n        <div class=\"news-info\">\n          <h2 class=\"news-title disable-scroll\">\n            ${cutTitle(headline.main)}\n          </h2>\n          <p class=\"news-desk\">\n          ${cutText(lead_paragraph)}\n          </p>\n          <div class=\"adding\">\n            <p class=\"news-date\">${formatDate(pub_date)}</p>\n            <a\n              href=${web_url}\n              class=\"news-link\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> `;\n}\n\nexport function createCardPop({\n  media,\n  title,\n  section,\n  subsection,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `\n        <li class=\"news-item\">\n        <div class=\"overlay\"></div>\n        <div class=\"img-thumb\">\n            <img src=\"${\n              !media[0]\n                ? 'https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg'\n                : !media\n                ? 'https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg'\n                : media[0]['media-metadata'][2].url\n            }\" loading=\"lazy\" alt=\"${!media[0] ? 'NYTimes' : media[0].caption}\" class=\"news-img\" />\n            <p class=\"news-chip\">${section || subsection}</p>\n            <span class=\"readable\"\n                    >Already read\n                    <svg class=\"icon-done\" width=\"18\" height=\"18\" viewBox=\"0 0 32 32\"><path d=\"M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z\"></path></svg>\n            </span>\n            <button type=\"button\" class=\"add-news-favorite\">\n              <p class=\"favorite-btn-text\">Add to favorite</p>\n              <svg class=\"favorite-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n               ${FAV_BUTTON_ICON_EMPTY_HTML}\n              </svg>\n            </button>\n        </div>\n        <div class=\"news-info\">\n          <h2 class=\"news-title disable-scroll\">\n            ${cutTitle(title)}\n          </h2>\n          <p class=\"news-desk\">\n          ${cutText(abstract)}\n          </p>\n          <div class=\"adding\">\n            <p class=\"news-date\">${formatDate(published_date)}</p>\n            <a\n              href=${url}\n              class=\"news-link\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> `;\n}\n\nexport function categoryCard({ section, url, abstract, title, published_date, multimedia }) {\n  return `\n        <li class=\"news-item\">\n        <div class=\"overlay\"></div>\n        <div class=\"img-thumb\">\n        <span class=\"readable\"\n        >Already read\n        <svg class=\"icon-done\" width=\"18\" height=\"18\" viewBox=\"0 0 32 32\"><path d=\"M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z\"></path></svg>\n          </span>\n          <img src=\"${\n            !multimedia\n              ? 'https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg'\n              : String(multimedia) === 'null'\n              ? 'https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg'\n              : multimedia[2].url\n          }\" loading=\"lazy\" alt=\"${\n    !multimedia ? 'NYTimes' : String(multimedia) === 'null' ? 'NYTimes' : multimedia[2].caption\n  }\"\n    class=\"news-img\" />\n          <p class=\"news-chip\">${section}</p>\n          <button type=\"button\" class=\"add-news-favorite\">\n            <p class=\"favorite-btn-text\">Add to favorite</p>\n            <svg class=\"favorite-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n             ${FAV_BUTTON_ICON_EMPTY_HTML}\n                </svg> \n          </button>\n        </div>\n        <div class=\"news-info\">\n          <h2 class=\"news-title disable-scroll\">\n            ${cutTitle(title)}\n          </h2>\n          <p class=\"news-desk\">\n          ${cutText(abstract)}\n          </p>\n          <div class=\"adding\">\n            <p class=\"news-date\">${formatDate(published_date)}</p>\n            <a\n              href=${url}\n              class=\"news-link\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> `;\n}\n","export function readLinksStyling() {\n  if (String(localStorage.getItem('read')) === 'null') {\n    return;\n  }\n\n  const cardsForCheck = document.querySelectorAll('[class=\"news-item\"]');\n\n  const readList = JSON.parse(localStorage.getItem('read'));\n  const readLinks = readList.map(newsItem => {\n    if (newsItem.url) {\n      return newsItem.url;\n    } else if (newsItem.web_url) {\n      return newsItem.web_url;\n    }\n  });\n  cardsForCheck.forEach(card => {\n    if (\n      readLinks.includes(card.querySelector('.news-link').getAttribute('href'))\n    ) {\n      card.classList.add('read-card');\n    }\n  });\n}\n","export function withoutNews() {\n  if (String(document.querySelector('.not-found-image')) !== 'null') {\n    return;\n  }\n  function createGag() {\n    return `<h2 class=\"not-found\">We haven’t found any news</h2>\n    <img class=\"not-found-image\" srcset=\"\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x.png          601w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x-tablet.png   560w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x-mobile.png   248w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x.png          1202w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x-tablet.png   1120w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x-mobile.png   496w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x.png          1803w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x-tablet.png     1680w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x-mobile.png   744w,\n                \" sizes=\"(min-width: 1280px) 601px, (min-width: 768px) 560px, 248px\" src=\"./images/gap1x.png\" alt=\"Not found\">`;\n  }\n  const field = document.querySelector('.main');\n  if (document.querySelectorAll('.news-item').length < 1) {\n    if (document.title === 'NYTimes News: Your Favorites') {\n      document.querySelector('.news-container').remove();\n    } else if (document.title === 'NYTimes News: Read By Yourself') {\n      document.querySelector('.read').remove();\n    }\n\n    field.insertAdjacentHTML('beforeend', createGag());\n  }\n}\n","import { formatDate } from './markupUtils';\nimport { save, load, remove } from './localStorageService';\nimport { createCard, createCardPop, categoryCard } from './cardMarkup';\nimport { readLinksStyling } from './readLinksStyling';\nimport { withoutNews } from './withoutNews';\n\nconst ARROW_DOWN_ICON =\n  '<path d=\"M3.76 6.857 0 10.336l16 14.806 16-14.806-3.76-3.479L16 18.159 3.76 6.857z\"/>';\nconst ARROW_TOP_ICON =\n  '<path d=\"M3.76 25.143 0 21.664 16 6.858l16 14.806-3.76 3.479L16 13.841 3.76 25.143z\"/>';\nconst readList = document.querySelector('.read');\nconst STORAGE_KEY = 'read';\nlet readMoreLinks;\nlet currentDate = null;\nlet arrayOffset = 0;\n\n// Фунція додає слухача на лінк 'Read more' на головній сторінці\nfunction addEvtListOnReadMore(articles) {\n  readMoreLinks = document.querySelectorAll('.news-link');\n\n  for (let i = 0; i < readMoreLinks.length; i++) {\n    let article = articles[i + arrayOffset];\n\n    let link = readMoreLinks[i];\n\n    //функція додає прочитане на Local Storage\n    function addReadToStorage() {\n      const storageItems = load(STORAGE_KEY);\n\n      if (storageItems === undefined) {\n        save(STORAGE_KEY, [article]);\n      } else {\n        const itemIndex = storageItems.findIndex(item => item.abstract === article.abstract);\n        //   console.log('itemIndex', itemIndex);\n\n        if (itemIndex >= 0) {\n          storageItems.splice(itemIndex, 1);\n        }\n\n        storageItems.push(article);\n        save(STORAGE_KEY, storageItems);\n      }\n    }\n\n    link.addEventListener('click', addReadToStorage);\n  }\n}\n\n// Слухач, на відкриття сторінки\nwindow.addEventListener('DOMContentLoaded', addAllReadOnPage);\n\nfunction getDate(item) {\n  const pubDate = item.published_date || item.pub_date;\n\n  const regexp = /(\\d+-\\d+-\\d+)/g;\n  const m = regexp.exec(pubDate);\n  if (m) return m[1];\n  return pubDate;\n}\n\n//функція, яка додає статті зі сховища на сторінку\nfunction addAllReadOnPage() {\n  const storageItems = load(STORAGE_KEY);\n  //   console.log('items', storageItems);\n\n  if (storageItems !== undefined) {\n    //сортуємо масив, отриманий з Local Storage по даті\n\n    const sortedStorageArr = storageItems.sort((a, b) => getDate(b).localeCompare(getDate(a)));\n\n    //  console.log('sorted', sortedStorageArr);\n\n    let markup = '';\n\n    sortedStorageArr.forEach(item => {\n      let date = getDate(item);\n\n      if (currentDate !== date) {\n        if (currentDate !== null) {\n          markup += '</div>'; //close current title\n        }\n        currentDate = date;\n\n        markup += createTitleMarcup(date);\n      }\n\n      if (Object.keys(item).includes('pub_date')) {\n        markup += createCard(item);\n      } else if (Object.keys(item).includes('pub_date') && !id) {\n        markup += createCardPop(item);\n      } else {\n        markup += categoryCard(item);\n      }\n    });\n\n    markup += '</div>'; //close the title\n    readList.insertAdjacentHTML('beforeend', markup);\n  }\n\n  withoutNews();\n\n  addEvtLisOnArrowBtn();\n\n  readLinksStyling();\n}\n\n//функція, яка створює розмітку заголовка\nfunction createTitleMarcup(date) {\n  let readGalleryClass = 'hidden';\n  let iconClass = 'hidden';\n  let iconAditionalClass = '';\n\n  const dateToCompare = date.replaceAll('-', '');\n  console.log('dateToCompare', dateToCompare);\n  const dateFromCalendar = load('selectedDateKey');\n  console.log('dateFromCalen', dateFromCalendar);\n\n  if (dateFromCalendar !== dateToCompare) {\n    console.log('совпадений нет');\n  } else {\n    console.log('совпадение дат');\n    readGalleryClass = '';\n    iconClass = '';\n    iconAditionalClass = 'hidden';\n  }\n\n  return `\n\t\t <li class=\"read__block\">\n\t\t\t <div class=\"read__title\">\n\t\t\t\t <div class=\"read__date\">\n\t\t\t\t\t <span class=\"date\">${formatDate(date)}</span>\n\t\t\t\t </div>\n\t\t\t \t <button type=\"button\" class=\"show-btn show-btn__up\" id='${date}'>\n\t\t\t\t  \t\t<svg class=\"icon read__icon--down ${iconAditionalClass}\" viewBox=\"0 0 32 32\">${ARROW_DOWN_ICON}</svg>\n\t\t\t\t\t\t<svg class=\"icon read__icon--top ${iconClass}\" viewBox=\"0 0 32 32\">${ARROW_TOP_ICON}</svg>\n\t\t\t\t </button>\n\t\t\t </div>\n\t\t </li>\n\t\t <div class=\"read__gallery ${readGalleryClass}\" id='read__gallery-${date}'>`;\n}\n\n//функція відкриття/закриття випадаючого списку зі статтями\nfunction addEvtLisOnArrowBtn() {\n  const showButtons = document.querySelectorAll('.show-btn');\n\n  showButtons.forEach(button => {\n    const newsGallery = document.getElementById('read__gallery-' + button.id);\n    const iconDown = button.firstElementChild;\n    const iconTop = button.lastElementChild;\n\n    button.addEventListener('click', event => {\n      newsGallery.classList.toggle('hidden');\n      iconTop.classList.toggle('hidden');\n      iconDown.classList.toggle('hidden');\n    });\n  });\n}\n\n//функція, яка отримує номер сторінки пагінації\nfunction setCurrentPage(num, newsPerPage) {\n  arrayOffset = (num - 1) * newsPerPage;\n  // console.log(\"offset\", arrayOffset);\n}\n\nexport { addEvtListOnReadMore, setCurrentPage };\n"],"names":["$f8543ac8c27ed09a$export$d06a9030d8a3e30b","string","length","slice","$f8543ac8c27ed09a$export$6ef5b55ca4d37809","$f8543ac8c27ed09a$export$3ae94a2503e890a1","strg","date","regexp","hits","match","$f8543ac8c27ed09a$var$cutDate","pubDate","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","$ee9bc0ee28215c78$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","Object","freeze","mobile","tablet","desktop","container","card","favButton","favButtonText","favButtonIcon","inFavorites","title","abstract","section","media","published_date","url","$73d4bfa821389e5a$export$ed3fbc98b706609f","$addb2175690f7858$export$b7316deff43c35f7","section_name","web_url","headline","lead_paragraph","pub_date","multimedia","snippet","main","$addb2175690f7858$export$388c1356e5ac2621","subsection","caption","$addb2175690f7858$export$26899d5c7befcf07","String","$3555207053356907$export$aa2f2c3012536d5c","cardsForCheck","document","querySelectorAll","readLinks","map","newsItem","forEach","includes","querySelector","getAttribute","classList","add","$7fd59800e72dc3ef$export$67145c0690fba339","field","remove","insertAdjacentHTML","$98ddfb9032534e21$var$readList","$98ddfb9032534e21$var$currentDate","$98ddfb9032534e21$var$getDate","item","m","exec","window","addEventListener","storageItems","sortedStorageArr","sort","a","b","localeCompare","markup","readGalleryClass","iconClass","iconAditionalClass","dateToCompare","replaceAll","log","dateFromCalendar","$98ddfb9032534e21$var$createTitleMarcup","keys","id","button","newsGallery","getElementById","iconDown","firstElementChild","iconTop","lastElementChild","event","toggle"],"version":3,"file":"read.e148f627.js.map"}
!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire08bc;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire08bc=a),a.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),a.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),a.register("jdVyQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}})),a.register("8ANMY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.set)return"__destrWrapper"in t||(t.__destrWrapper={set value(n){t.set.call(e,n)},get value(){return t.get.call(e)}}),t.__destrWrapper;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var i="favPagesData",o={mobile:5,tablet:8,desktop:9};Object.freeze(o);var s={mobile:320,tablet:768};Object.freeze(s);var u={container:"news-container",card:"news-item",favButton:"add-news-favorite",favButtonText:"favorite-btn-text",favButtonIcon:"favorite-icon",inFavorites:"in-favorites",title:"news-title",abstract:"news-desk",section:"news-chip",media:"news-img",published_date:"news-date",url:"news-link"};Object.freeze(u);var c='<path class="icon-heart" d="M8.381 2.286C4.174 2.286.762 5.663.762 9.829c0 3.363 1.333 11.345 14.458 19.413a1.501 1.501 0 0 0 1.56 0c13.125-8.069 14.458-16.05 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543S16 6.857 16 6.857s-3.412-4.571-7.619-4.571z"/>';function l(){if("null"===String(document.querySelector(".not-found-image"))){var e=document.querySelector(".main");document.querySelectorAll(".news-item").length<1&&("NYTimes News: Your Favorites"===document.title?document.querySelector(".news-container").remove():"NYTimes News: Read By Yourself"===document.title&&document.querySelector(".read").remove(),e.insertAdjacentHTML("beforeend",'<h2 class="not-found">We havenâ€™t found any news</h2>\n    <img class="not-found-image" srcset="\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x.png          601w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x-tablet.png   560w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap1x-mobile.png   248w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x.png          1202w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x-tablet.png   1120w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap2x-mobile.png   496w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x.png          1803w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x-tablet.png     1680w,\n                  https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/gap3x-mobile.png   744w,\n                " sizes="(min-width: 1280px) 601px, (min-width: 768px) 560px, 248px" src="./images/gap1x.png" alt="Not found">'))}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],a=localStorage.getItem(e);if(a)try{r=JSON.parse(a)}catch(e){console.log(e.message)}return n&&(n(r,t),localStorage.setItem(e,JSON.stringify(r))),r}function d(e,t){var n=t.querySelector(".".concat(u.title)).textContent.trim();return f(e).findIndex((function(e){return e.title===n}))}function p(e,t){e.splice(t,1)}function v(e,t){e.unshift(function(e){return{media:[{url:e.querySelector(".".concat(u.media)).src,caption:e.querySelector(".".concat(u.media)).alt}],title:e.querySelector(".".concat(u.title)).textContent.trim(),section:e.querySelector(".".concat(u.section)).textContent,subsection:"",abstract:e.querySelector(".".concat(u.abstract)).textContent,published_date:e.querySelector(".".concat(u.published_date)).textContent,url:e.querySelector(".".concat(u.url)).href}}(t))}function m(e){e.querySelector(".".concat(u.favButtonText)).textContent="In favorite",e.querySelector(".".concat(u.favButtonIcon)).innerHTML=c}var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t){var n=w.default(e,t,"get");return b.default(e,n)};var w=y(a("1UHsN")),b=y(a("ffZzF"));function y(e){return e&&e.__esModule?e:{default:e}}var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(e,t,n){M.default(e,t),t.set(e,n)};var _,M=(_=a("5k7tO"))&&_.__esModule?_:{default:_};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(e,t,n){var r=T.default(e,t,"set");return j.default(e,r,n),n};var T=O(a("1UHsN")),j=O(a("jdVyQ"));function O(e){return e&&e.__esModule?e:{default:e}}var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(e,t){var n=k.default(e,t,"update");return P.default(e,n)};var k=Y(a("1UHsN")),P=Y(a("8ANMY"));function Y(e){return e&&e.__esModule?e:{default:e}}var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.default=function(e,t){E.default(e,t),t.add(e)};var E=function(e){return e&&e.__esModule?e:{default:e}}(a("5k7tO"));var W={};function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e};var H=new WeakMap,L=new WeakMap,z=new WeakMap,B=new WeakMap,D=new WeakMap,A=new WeakMap,I=new WeakSet,U=function(){"use strict";function t(n,r){e(g)(this,t),e(F)(this,I),e(x)(this,H,{writable:!0,value:0}),e(x)(this,L,{writable:!0,value:0}),e(x)(this,z,{writable:!0,value:1}),e(x)(this,B,{writable:!0,value:""}),e(x)(this,D,{writable:!0,value:{}}),e(x)(this,A,{writable:!0,value:[]}),e(N)(this,B,n),e(N)(this,D,r),this.refresh()}return e(W)(t,[{key:"refresh",value:function(){var t;e(N)(this,A,f(e(h)(this,B))),e(N)(this,H,(t=e(h)(this,D),window.matchMedia("(max-width: ".concat(s.mobile,"px)")).matches?t.mobile:window.matchMedia("(max-width: ".concat(s.tablet,"px)")).matches?t.tablet:t.desktop)),e(N)(this,L,e(q)(this,I,R).call(this))}},{key:"getPageData",value:function(){return e(h)(this,A).slice((e(h)(this,z)-1)*e(h)(this,H),e(h)(this,z)*e(h)(this,H))}},{key:"getNextPageData",value:function(){return e(h)(this,z)===e(h)(this,L)?null:(++e(S)(this,z).value,this.getPageData())}}]),t}();function R(){return Math.ceil(e(h)(this,A).length/e(h)(this,H))}var V,$=a("l5bVx"),J="Expected a function",Q=/^\s+|\s+$/g,Z=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,K=/^0o[0-7]+$/i,X=parseInt,ee="object"==typeof t&&t&&t.Object===Object&&t,te="object"==typeof self&&self&&self.Object===Object&&self,ne=ee||te||Function("return this")(),re=Object.prototype.toString,ae=Math.max,ie=Math.min,oe=function(){return ne.Date.now()};function se(e,t,n){var r,a,i,o,s,u,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(J);function p(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function v(e){return c=e,s=setTimeout(g,t),l?p(e):o}function m(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=i}function g(){var e=oe();if(m(e))return h(e);s=setTimeout(g,function(e){var n=t-(e-u);return f?ie(n,i-(e-c)):n}(e))}function h(e){return s=void 0,d&&r?p(e):(r=a=void 0,o)}function w(){var e=oe(),n=m(e);if(r=arguments,a=this,u=e,n){if(void 0===s)return v(u);if(f)return s=setTimeout(g,t),p(u)}return void 0===s&&(s=setTimeout(g,t)),o}return t=ce(t)||0,ue(n)&&(l=!!n.leading,i=(f="maxWait"in n)?ae(ce(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),w.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=a=s=void 0},w.flush=function(){return void 0===s?o:h(oe())},w}function ue(t){var n=void 0===t?"undefined":e($)(t);return!!t&&("object"==n||"function"==n)}function ce(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e($)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==re.call(t)}(t))return NaN;if(ue(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ue(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Q,"");var r=G.test(t);return r||K.test(t)?X(t.slice(2),r?2:8):Z.test(t)?NaN:+t}V=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(J);return ue(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),se(e,t,{leading:r,maxWait:t,trailing:a})};var le=document.querySelector(".".concat(u.container));le.addEventListener("click",(function(e){if(e.target.classList.contains(u.favButton)||e.target.parentNode.classList.contains(u.favButton)||"path"===e.target.tagName){var t=function(e,t){for(var n=t;!n.classList.contains(e);)n=n.parentElement;return n}(u.card,e.target),n=d(i,t);n>-1?function(e,t,n){f(e,t,p),n.remove(),l()}(i,n,t):function(e,t){f(e,t,v),m(t)}(i,t)}}));var fe=new U(i,o),de=fe.getPageData().reduce((function(e,t){return pe(t)+e}),"");function pe(e){var t=e.media,n=e.title,r=e.section,a=e.subsection,i=e.abstract,o=e.published_date,s=e.url;return'\n          <li class="news-item">\n          <div class="overlay"></div>\n          <div class="img-thumb">\n          <span class="readable"\n          >Already read\n          <svg class="icon-done" width="18" height="18"><use\n          href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n            </span>\n            <img src="'.concat(t[0]?t[0].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(t[0]?t[0].caption:"NYTimes",'" class="news-img" />\n            <p class="news-chip">').concat(r||a,'</p>\n            <button type="button" class="add-news-favorite">\n              <p class="favorite-btn-text">Remove from favorite</p>\n              <svg class="favorite-icon" width="16" height="16" viewBox="0 0 32 32" style="fill: #4440F6;">\n                ').concat(c,'\n              </svg> \n            </button>\n          </div>\n          <div class="news-info">\n            <h2 class="news-title disable-scroll">\n              ').concat(n,'\n            </h2>\n            <p class="news-desk">\n            ').concat(i,'\n            </p>\n            <div class="adding">\n              <p class="news-date">').concat(o,"</p>\n              <a\n                href=").concat(s,'\n                class="news-link"\n                target="_blank"\n                rel="noopener noreferrer"\n                >Read more</a\n              >\n            </div>\n          </div>\n        </li> ')}le.insertAdjacentHTML("beforeend",de),window.addEventListener("scroll",e(V)((function(){!function(){if(window.innerHeight+window.scrollY<document.body.offsetHeight-1)return;var e=fe.getNextPageData();if(e){var t=e.reduce((function(e,t){return pe(t)+e}),"");le.insertAdjacentHTML("beforeend",t)}}()}),300)),l()}();
//# sourceMappingURL=favorites.f7a0a29a.js.map
